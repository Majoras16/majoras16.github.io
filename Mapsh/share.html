<!doctype html>
<html>
 <head>
  <title>Partager une position</title>
  <style>
button {
 border: none;
 border-radius: 50px;
 background: white;
 box-shadow: 5px 0px 5px rgb(150,150,150);
}
a {
 border: 2px solid rgb(50,150,250);
 border-radius: 15px;
 padding: 10px;
 color: black;
 text-decoration: none;
}
 </head>
 <body>
  <button onClick="getGeo()">Utiliser ma localisation</button>
  <button onClick="askGeo()">Entrer une localisation</button>
 </body>
 <script>
function share(dt,d) {
 document.body.innerHTML = "<a href='view.html?"+dt+"="+d+"'>"+new URL("view.html?"+dt+"="+d).href+"</a>";
}

function getGeo() {
 // get location
 share("l",btoa(geo[0]+";"+geo[1])).replace(/=/g,"_");
}
function askGeo() {
 let ask = prompt("Quelle est l\'adresse ?");
 share("a",encodeURI(ask));
}
 </script>
</html>
